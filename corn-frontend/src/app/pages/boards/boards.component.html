<mat-toolbar color="primary" class="w-full">
    <div class="flex space-x-4 items-center">
        <button mat-icon-button (click)="toggleSidebar()">
            <mat-icon>{{ sidebarShown ? 'menu_open' : 'menu' }}</mat-icon>
        </button>

        <button mat-button [matMenuTriggerFor]="menu" #t="matMenuTrigger">
            Your Projects
            <mat-icon iconPositionEnd>{{ t.menuOpen ? 'expand_less' : 'expand_more' }}</mat-icon>
        </button>

        <mat-menu #menu="matMenu">
            <button mat-menu-item>Some Project</button>
            <button mat-menu-item>Another Project</button>
        </mat-menu>
    </div>

    <span class="flex-auto"></span>

    @if (isLoggedIn && userProfile) {
        <userinfo [username]="userProfile!.username || ''"
                  [fullName]="userProfile!.firstName + ' ' + userProfile!.lastName"
                  (logout)="logout()">
        </userinfo>
    }
</mat-toolbar>

<mat-drawer-container>
    <mat-drawer [opened]="sidebarShown" mode="side">
        <div class="p-[6px] w-[224px] flex flex-col gap-[4px]">

            <span class="text-center text-[20px] m-[4px]">{{ projectName }}</span>

            <div class="border-t border-gray-300 my-2"></div>

            <sidebar-button (click)="navigateToTimeline()" [iconName]="'matViewTimeline'"
                            [label]="'Timeline'" [selected]="selected == 'timeline'"></sidebar-button>

            <sidebar-button (click)="navigateToBacklog()" [iconName]="'bootstrapArchiveFill'"
                            [label]="'Backlog'" [selected]="selected == 'backlog'"></sidebar-button>

            <sidebar-button (click)="navigateToBoard()" [selected]="selected == 'board'"
                            [iconName]="'akarClipboard'" [label]="'Board'"></sidebar-button>

            <sidebar-button (click)="{}" [iconName]="'octGraph'" [label]="'Reports'"
                            [selected]="selected == 'reports'"></sidebar-button>

            <sidebar-button (click)="{}" [iconName]="'octGoal'" [label]="'Goals'"
                            [selected]="selected == 'goals'"></sidebar-button>

            <sidebar-button (click)="{}" [iconName]="'matError'" [label]="'Issues'"
                            [selected]="selected == 'issues'"></sidebar-button>

        </div>
    </mat-drawer>

    <mat-drawer-content>
        <div class="overflow-hidden min-h-screen">
            <router-outlet></router-outlet>
        </div>
    </mat-drawer-content>
</mat-drawer-container>